#include "GameManager.h"

int g_TitleArr[TITLEHIGH][TITLEWIDTH] =
{
	{0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,0,0,0,1,1,0,0,0,0,0,1,1,0,0,0,0,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1},
	{0,1,1,0,0,0,0,0,1,1,0,0,0,1,1,0,1,1,0,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,0,0,0,1,1,1,0,0,0,1,1,0,1,1,0,0,0,1,1,1,0,0,0,1,1},
	{0,1,1,0,0,0,0,0,1,1,0,0,1,1,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,1,1,1,1,0,0,1,1,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1},
	{0,1,1,1,1,1,1,1,0,0,0,1,1,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,1,1,0,1,1,1,0,1,1,0,1,1,0,0,0,0,0,1,1,0,1,1,0,1,1,0,1,1},
	{0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,0,1,1,0,0,1,1,1,1},
	{0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,1,1,0,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,1,1,0,1,1,0,0,0,1,1,1},
	{0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,0,0,0,1,1,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,1,1,0,1,1,0,0,0,0,1,1},
};

int g_EndingArr[ENDINGHIGH][ENDINGWIDTH] =
{
	{0,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,0,1,1,1,1,1,0,0,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0},
	{0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0},
	{0,0,0,0,0,1,0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0},
	{0,0,0,0,1,1,1,1,1,0,1,0,0,0,0,0,0,1,1,1,1,1,0,0,1,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0},
	{0,0,0,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0},
	{0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0},
	{0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0},
	{1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0},
	{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0},
};

void TitleDraw()
{
	/*printf("   ########  #######   #  #     #########  #  # \n");
	printf("  #######      # #     #  #     #       #  #  # \n");
	printf("#######        # #     ####     #       #  #### \n");
	printf("####         #######   ####     #       #  #### \n");
	printf(" ######                #  #     ########## #  # \n");
	printf("   ########    #######                          \n");
	printf("    ######         ###                ###       \n");
	printf("                   ###                ###       \n");
	printf("                   ###                #######   \n\n\n");*/

	for (int y = 0; y < TITLEHIGH; y++)
	{
		for (int x = 0; x < TITLEWIDTH; x++)
		{
			if (g_TitleArr[y][x] == 0)
			{
				// y좌표에 +5를 해서 타이틀을 화면에서 5정도 떨어진 곳에 그림.
				LHPutAttrCharEx(x, y + 5, ".", BG_BLACK, FG_BLUE);
			}
			else if (g_TitleArr[y][x] == 1)
			{
				LHPutAttrCharEx(x, y + 5, "#", BG_BLACK, FG_YELLOW);
			}
		}
	}

	LHLocateCursor(18, 17);
	printf("방향키 : ←, →, ↑, ↓ ");
	LHLocateCursor(2, 19);
	printf(" ◎ <- 이걸 먹으면 7초 동안 고스트를 잡을 수 있어요!");

	LHLocateCursor(22, 21);
	printf("! GOOD LUCK !");

}

int MenuDraw()
{
	LHLocateCursor(25, 25);
	printf("게임 시작 \n");
	LHLocateCursor(25, 27);
	printf("종료 \n");

	LHLocateCursor(23, 25);
	printf(">");

	static int y = 1;

	while (1)
	{
		CursorView(false);
		
		if (GetAsyncKeyState(VK_UP) & 8001)
		{

			LHLocateCursor(23, 27);
			printf(" ");
			
			LHLocateCursor(23, 25);
			printf(">");

			y = 1;
		}
		else if (GetAsyncKeyState(VK_DOWN) & 8001)
		{
			LHLocateCursor(23, 25);
			printf(" ");
			
			LHLocateCursor(23, 27);
			printf(">");

			y = 2;
		}
 		else if (GetAsyncKeyState(VK_SPACE) & 8001)
		{
			break;
		}
	}
	
	return y;
}

/// <summary>
/// 게임 오버 만듬
/// </summary>
void GameOver()
{
	for (int y = 0; y < ENDINGHIGH; y++)
	{
		for (int x = 0; x < ENDINGWIDTH; x++)
		{
			if (g_EndingArr[y][x] == 0)
			{
				// y좌표에 +5를 해서 타이틀을 화면에서 5정도 떨어진 곳에 그림.
				LHPutAttrCharEx(x, y + 5, ".", BG_BLACK, FG_BLUE);
			}
			else if (g_EndingArr[y][x] == 1)
			{
				LHPutAttrCharEx(x, y + 5, "#", BG_BLACK, FG_YELLOW);
			}
		}
	}

	LHLocateCursor(18, 17);
	printf(" 3초 후에 게임이 다시 시작됩니다. ");

	
	//printf("게임을 다시 시작하시려면 a키를 눌러주세요!!\n\n");

	sleep(3000);

	/// 타이틀 화면으로 돌아가게 하자.
/*
	while (true)
	{
		if (_getch() == 'a' || _getch() == 'A')
		{
			// 화면 크기 고정
			

			/ *
			system("mode con cols=60 lines=40");
			//초기화
			SoundSystem();
			if (Initialize() == FALSE)
			{

			}
			// 맨 처음만 초기화 해줌
			CopyCoinInit();
			BoredInitialize();
			BgmPlay(0);
			DrawAll();

			MoveCursor();* /
		}
	}*/

}